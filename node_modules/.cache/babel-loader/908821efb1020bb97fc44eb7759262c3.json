{"ast":null,"code":"import _regeneratorRuntime from\"/home/saswat/Documents/Django/Shareme/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/saswat/Documents/Django/Shareme/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/saswat/Documents/Django/Shareme/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import AxiosRequest from'../../axios';import Search from'../basic/search';import{DecodeToken}from'../token_decode';import Card from'./Card';import{jsx as _jsx}from\"react/jsx-runtime\";var Contact=function Contact(){var user_id=DecodeToken(localStorage.getItem(\"access_token\")).user_id;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),contacts=_useState4[0],setContacts=_useState4[1];var RetrieveContacts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(ser){var data,_data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!ser){_context.next=6;break;}_context.next=3;return AxiosRequest.post(\"/accounts/profile/\".concat(user_id),ser).then(function(res){setContacts(res.data);}).catch(function(err){console.log(err);});case 3:data=_context.sent;_context.next=9;break;case 6:_context.next=8;return AxiosRequest.get(\"/accounts/profile/\".concat(user_id)).then(function(res){setContacts(res.data.cm);}).catch(function(err){console.log(err);});case 8:_data=_context.sent;case 9:case\"end\":return _context.stop();}}},_callee);}));return function RetrieveContacts(_x){return _ref.apply(this,arguments);};}();var RenderContacts=contacts.map(function(each){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Card,{props:each})},each.id);});useEffect(function(){RetrieveContacts(search);},[search]);return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-4 ml-4\",text:true,children:/*#__PURE__*/_jsx(\"div\",{className:\"grid lg:grid-cols-3 md:grid-cols-2 sm:grid-cols-1\",children:RenderContacts})});};export default Contact;","map":{"version":3,"sources":["/home/saswat/Documents/Django/Shareme/frontend/src/Components/Contacts/Contact.js"],"names":["React","useState","useEffect","AxiosRequest","Search","DecodeToken","Card","Contact","user_id","localStorage","getItem","search","setSearch","contacts","setContacts","RetrieveContacts","ser","post","then","res","data","catch","err","console","log","get","cm","RenderContacts","map","each","id"],"mappings":"gYAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAuBC,SAAvB,KAAuC,OAAvC,CACA,MAAOC,CAAAA,YAAP,KAAyB,aAAzB,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CACA,OAASC,WAAT,KAA4B,iBAA5B,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,C,2CAIA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAClB,GAAMC,CAAAA,OAAO,CAAGH,WAAW,CAACI,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAD,CAAX,CAAkDF,OAAlE,CACA,cAA2BP,QAAQ,CAAC,EAAD,CAAnC,wCAAOU,MAAP,eAAcC,SAAd,eACA,eAA+BX,QAAQ,CAAC,EAAD,CAAvC,yCAAOY,QAAP,eAAgBC,WAAhB,eAGA,GAAMC,CAAAA,gBAAgB,0FAAG,iBAAMC,GAAN,qIAElBA,GAFkB,+CAGFb,CAAAA,YAAY,CAACc,IAAb,6BAAuCT,OAAvC,EAAiDQ,GAAjD,EACNE,IADM,CACD,SAACC,GAAD,CAAS,CACXL,WAAW,CAACK,GAAG,CAACC,IAAL,CAAX,CACH,CAHM,EAINC,KAJM,CAIA,SAACC,GAAD,CAAS,CAACC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EAAiB,CAJ3B,CAHE,QAGfF,IAHe,kEAUEjB,CAAAA,YAAY,CAACsB,GAAb,6BAAsCjB,OAAtC,GAClBU,IADkB,CACb,SAACC,GAAD,CAAS,CACXL,WAAW,CAACK,GAAG,CAACC,IAAJ,CAASM,EAAV,CAAX,CACH,CAHkB,EAIlBL,KAJkB,CAIZ,SAACC,GAAD,CAAS,CAACC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EAAiB,CAJf,CAVF,QAUXF,KAVW,qEAAH,kBAAhBL,CAAAA,gBAAgB,4CAAtB,CAoBA,GAAMY,CAAAA,cAAc,CAAGd,QAAQ,CAACe,GAAT,CAAa,SAACC,IAAD,CAAU,CAE5C,mBACA,kCACE,KAAC,IAAD,EAAM,KAAK,CAAEA,IAAb,EADF,EAAUA,IAAI,CAACC,EAAf,CADA,CAMD,CARsB,CAAvB,CAWA5B,SAAS,CAAC,UAAM,CACda,gBAAgB,CAACJ,MAAD,CAAhB,CAED,CAHQ,CAGN,CAACA,MAAD,CAHM,CAAT,CAKA,mBACA,YAAK,SAAS,CAAC,qBAAf,CAAqC,IAAI,KAAzC,uBAKI,YAAK,SAAS,CAAC,mDAAf,UACIgB,cADJ,EALJ,EADA,CAcC,CAxDL,CA0DA,cAAepB,CAAAA,OAAf","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport AxiosRequest from '../../axios'\nimport Search from '../basic/search'\nimport { DecodeToken } from '../token_decode'\nimport Card from './Card'\n\n\n\nconst Contact = () => {\n    const user_id = DecodeToken(localStorage.getItem(\"access_token\")).user_id\n    const [search,setSearch] = useState(\"\");\n    const [contacts,setContacts] = useState([]);\n\n    \n    const RetrieveContacts = async(ser) => {\n        \n        if(ser){\n        const data = await AxiosRequest.post(`/accounts/profile/${user_id}`,ser)\n                    .then((res) => {\n                        setContacts(res.data)\n                    })\n                    .catch((err) => {console.log(err)})\n                  }\n        else{\n            const data = await AxiosRequest.get(`/accounts/profile/${user_id}`)\n            .then((res) => {\n                setContacts(res.data.cm)\n            })\n            .catch((err) => {console.log(err)})\n          }\n        }\n      \n    \n\n    const RenderContacts = contacts.map((each) => {\n      \n      return( \n      <div key={each.id}>\n        <Card props={each}></Card>\n      </div>\n     );\n      \n    })\n    \n\n    useEffect(() => {\n      RetrieveContacts(search);\n      \n    }, [search])\n  \n    return (\n    <div className='container mt-4 ml-4' text>\n        {/* <div className='flex justify-center'>\n        <input className=\"form-control w-25\" onChange={(e) => setSearch(e.target.value)} type=\"search\" placeholder=\"Search\" aria-label=\"Search\"/>\n        </div> */}\n        \n        <div className='grid lg:grid-cols-3 md:grid-cols-2 sm:grid-cols-1'>\n           {RenderContacts}\n        </div>\n\n    </div>\n\n\n  )\n    }\n\nexport default Contact"]},"metadata":{},"sourceType":"module"}