{"ast":null,"code":"import _regeneratorRuntime from\"/home/saswat/Documents/Django/Shareme/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/saswat/Documents/Django/Shareme/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/saswat/Documents/Django/Shareme/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import MealCard from'./MealCard';import Loading from'../basic/loading';import MealList from'./MealList';import AxiosRequest from'../../axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MealsHome=function MealsHome(){var _useState=useState({loading:true,mealArray:[]}),_useState2=_slicedToArray(_useState,2),mealDetails=_useState2[0],setMealDetails=_useState2[1];var _useState3=useState({list:true,data:\"List\"}),_useState4=_slicedToArray(_useState3,2),toggle=_useState4[0],setToggle=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),searhMeal=_useState6[0],setMealSearch=_useState6[1];var getMeals=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var FetchMealDetails,CleanedMealDetails;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://localhost:8000/khabar/meals',{\"search\":searhMeal});case 2:FetchMealDetails=_context.sent;_context.next=5;return FetchMealDetails.json();case 5:CleanedMealDetails=_context.sent;setMealDetails({loading:false,mealArray:CleanedMealDetails});case 7:case\"end\":return _context.stop();}}},_callee);}));return function getMeals(){return _ref.apply(this,arguments);};}();useEffect(function(){getMeals();},[]);var loading=mealDetails.loading,mealArray=mealDetails.mealArray;var RenderMeals=mealArray.map(function(each){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(MealCard,{passMealDetails:each})},each.id);});var MealCardView=function MealCardView(){return/*#__PURE__*/_jsx(\"div\",{align:\"center\",className:\"container\",style:{marginTop:\"2%\",\"display\":\"grid\",\"gridTemplateColumns\":\"repeat(auto-fit, minmax(200px, 1fr))\"},children:RenderMeals});};var handleToggle=function handleToggle(){if(toggle.list===true){setToggle({list:false,data:\"Card\"});}else{setToggle({list:true,data:\"List\"});}};var ToggleButton=/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-dark\",onClick:handleToggle,children:[\"Toggle \",toggle.data,\" view\"]})});if(loading===false){return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",style:{gap:\"25px\"},children:[ToggleButton,/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",alignItems:\"center\"},children:/*#__PURE__*/_jsx(\"input\",{type:\"search\",class:\"form-control mr-2\",placeholder:\"Search\",style:{width:\"150px\"},onChange:function onChange(e){setMealSearch(e.target.value);}})})]}),toggle.list?/*#__PURE__*/_jsx(MealList,{passMealDetails:mealArray}):/*#__PURE__*/_jsx(MealCardView,{})]});}else{return/*#__PURE__*/_jsx(Loading,{});}};export default MealsHome;","map":{"version":3,"sources":["/home/saswat/Documents/Django/Shareme/frontend/src/Components/meals/MealsHome.js"],"names":["React","useEffect","useState","MealCard","Loading","MealList","AxiosRequest","MealsHome","loading","mealArray","mealDetails","setMealDetails","list","data","toggle","setToggle","searhMeal","setMealSearch","getMeals","fetch","FetchMealDetails","json","CleanedMealDetails","RenderMeals","map","each","id","MealCardView","marginTop","handleToggle","ToggleButton","gap","display","alignItems","width","e","target","value"],"mappings":"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","sourcesContent":["import React,{useEffect,useState} from 'react';\nimport MealCard from './MealCard';\nimport Loading from '../basic/loading';\nimport MealList from './MealList';\nimport AxiosRequest from '../../axios';\n\nconst MealsHome = () => {\n\n  const [mealDetails,setMealDetails] = useState({loading:true,mealArray:[]});\n  const [toggle,setToggle] = useState({list:true,data:\"List\"})\n  const [searhMeal,setMealSearch] = useState(\"\");\n  \n\n  const getMeals = async() => {\n    const FetchMealDetails = await fetch('http://localhost:8000/khabar/meals',{\"search\":searhMeal})\n    const CleanedMealDetails = await FetchMealDetails.json()\n    setMealDetails({loading:false,mealArray:CleanedMealDetails})\n  \n  }\n\n\n  useEffect(() => {\n    getMeals();\n  },[]);\n\n  const {loading,mealArray} = mealDetails\n  \n  \n\n\n  const RenderMeals = mealArray.map((each) => {\n      return(\n        <div key={each.id}>\n          <MealCard passMealDetails={each}/>\n        </div>\n      );\n  })\n\n  const MealCardView = () => {\n    return(\n      <div  align=\"center\" className='container' style={{marginTop:\"2%\",\"display\":\"grid\",\"gridTemplateColumns\": \"repeat(auto-fit, minmax(200px, 1fr))\"}}>\n          {RenderMeals}\n      </div>\n    );\n  }\n\n\n\n\n  const handleToggle = () => {\n      if(toggle.list === true){\n        setToggle({list:false,data:\"Card\"})\n      }\n      else{\n        setToggle({list:true,data:\"List\"})\n      }\n\n  }\n\n  const ToggleButton = <div>\n                        <button className='btn btn-dark' onClick={handleToggle}>Toggle {toggle.data} view</button>\n                      </div>\n\n  if(loading === false){\n  return(\n    \n    <div className='container mt-3'>\n      <div className='d-flex' style={{gap:\"25px\"}}>\n      {ToggleButton}\n      <div style={{display:\"flex\",alignItems:\"center\"}}>\n                <input type=\"search\"  class=\"form-control mr-2\"  placeholder=\"Search\" style={{width:\"150px\"}} onChange={(e) => {setMealSearch(e.target.value)}} />\n      </div>\n      </div>\n\n     {toggle.list ?  <MealList passMealDetails={mealArray}/> : <MealCardView/>}\n      \n    </div>\n  );\n  }\n  else{\n    return(<Loading/>);\n\n  }\n}\n\n\nexport default MealsHome;\n"]},"metadata":{},"sourceType":"module"}