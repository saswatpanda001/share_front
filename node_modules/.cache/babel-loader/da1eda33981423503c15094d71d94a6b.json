{"ast":null,"code":"import _regeneratorRuntime from\"/home/saswat/Documents/Django/Shareme/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/saswat/Documents/Django/Shareme/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/saswat/Documents/Django/Shareme/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useNavigate,useLocation,Navigate}from'react-router';import{Link}from'react-router-dom';import{DecodeToken}from'../token_decode';import AxiosRequest from'../../axios';import{Axios}from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Chat=function Chat(){var user_id=DecodeToken(localStorage.getItem(\"access_token\")).user_id;var _useState=useState({user_id:null,username:null,ws_api:null}),_useState2=_slicedToArray(_useState,2),socketDetails=_useState2[0],setSocketDetails=_useState2[1];var location=useLocation();var chat_id=location.pathname.slice(14);var yy=location.pathname.slice(14);var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),messageData=_useState6[0],setMessageData=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),accountData=_useState8[0],setAccountData=_useState8[1];var _useState9=useState(location.pathname.slice(14)),_useState10=_slicedToArray(_useState9,2),id=_useState10[0],setId=_useState10[1];var navigate=useNavigate();if(socketDetails.ws_api){socketDetails.ws_api.onopen=function(){console.log(\"connection established\");};socketDetails.ws_api.onclose=function(){console.log(\"disconnected\");};socketDetails.ws_api.onmessage=function(res){if(res.data){console.log(res.data);retrieveMessages();}};}var socketMessages=function socketMessages(){if(message.length>0){var msg_data=JSON.stringify({\"data\":message,\"code\":chat_id,\"type\":\"send\"});if(msg_data.data!==\"\"){socketDetails.ws_api.send(msg_data);}setMessage(\"\");}};var getUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var users;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return AxiosRequest.get(\"/accounts/retrieve_profiles/\".concat(user_id)).then(function(res){console.log(res.data);setAccountData(res.data);}).catch(function(err){console.log(err);});case 2:users=_context.sent;case 3:case\"end\":return _context.stop();}}},_callee);}));return function getUsers(){return _ref.apply(this,arguments);};}();var changeText=function changeText(sender){navigate(\"/shareme/text/\".concat(user_id,\"-\").concat(sender));setId(user_id+\"-\"+sender);};var RenderAccounts=accountData.map(function(each){return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return changeText(each.user);},className:\"sm:text-lg md:xl lg:text-xl col-md-3 mt-4 mb-4 bg-blue-200 p-2 rounded-xl shadow-md hover:scale-110 \",children:each.name},each.id);});var retrieveMessages=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var getMessage;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return AxiosRequest.get(\"/chat/text/\".concat(chat_id)).then(function(res){console.log(res.data);setMessageData(res.data);});case 2:getMessage=_context2.sent;case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function retrieveMessages(){return _ref2.apply(this,arguments);};}();// http request to store message\n// const sendMessages = async() => {\n//     const sendMessage = await AxiosRequest.post(`/chat/text/${chat_id}`,{\"data\":message})\n//                         .then((res) => {retrieveMessages();})\n// }\nvar RenderMessages=messageData.map(function(each){if(user_id==each.sender){return/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-5 mt-3 mb-3\",style:{backgroundColor:\"lightGreen\",borderRadius:\"10px\",padding:\"5px\",textAlign:\"left\",marginRight:\"20px\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",style:{justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"13px\"},children:/*#__PURE__*/_jsx(\"b\",{children:\"You\"})}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"10px\",marginLeft:\"10px\"},children:[each.time.slice(0,10),\"  \",each.time.slice(11,16)]})]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"15px\"},children:each.data})]},each.id);}else{return/*#__PURE__*/_jsx(\"div\",{align:\"right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-5 mt-3 mb-3\",style:{backgroundColor:\"yellow\",borderRadius:\"10px\",padding:\"5px\",textAlign:\"right\",marginRight:\"20px\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",style:{justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"10px\"},children:[each.time.slice(0,10),\"  \",each.time.slice(11,16)]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"13px\"},children:/*#__PURE__*/_jsx(\"b\",{children:each.sender_name})})]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"15px\"},children:each.data})]})},each.id);}});useEffect(function(){var user_id=DecodeToken(localStorage.getItem(\"access_token\")).user_id;var username=DecodeToken(localStorage.getItem(\"access_token\")).username;var ws_api=new WebSocket(\"ws://localhost:8000/ws/chat/\".concat(window.location.pathname.slice(14)));setSocketDetails({user_id:user_id,username:username,ws_api:ws_api});retrieveMessages();getUsers();},[id]);return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:RenderAccounts}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",style:{width:\"20rem\"},value:message,placeholder:\"Enter the message\",onChange:function onChange(e){setMessage(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark ml-5\",onClick:socketMessages,children:\"Send\"})]}),RenderMessages]})]})});};export default Chat;","map":{"version":3,"sources":["/home/saswat/Documents/Django/Shareme/frontend/src/Components/chat/chat.js"],"names":["React","useState","useEffect","useNavigate","useLocation","Navigate","Link","DecodeToken","AxiosRequest","Axios","Chat","user_id","localStorage","getItem","username","ws_api","socketDetails","setSocketDetails","location","chat_id","pathname","slice","yy","message","setMessage","messageData","setMessageData","accountData","setAccountData","id","setId","navigate","onopen","console","log","onclose","onmessage","res","data","retrieveMessages","socketMessages","length","msg_data","JSON","stringify","send","getUsers","get","then","catch","err","users","changeText","sender","RenderAccounts","map","each","user","name","getMessage","RenderMessages","backgroundColor","borderRadius","padding","textAlign","marginRight","justifyContent","fontSize","marginLeft","time","sender_name","WebSocket","window","width","e","target","value"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport { useNavigate, useLocation, Navigate } from 'react-router'\nimport { Link } from 'react-router-dom'\nimport { DecodeToken } from '../token_decode'\nimport AxiosRequest from '../../axios'\nimport { Axios } from 'axios'\n\n\n\nconst Chat = () => {\n\n    const user_id = DecodeToken(localStorage.getItem(\"access_token\")).user_id\n    const [socketDetails,setSocketDetails] = useState({user_id:null,username:null,ws_api:null})\n    const location = useLocation()\n    const chat_id = location.pathname.slice(14)\n    const yy =location.pathname.slice(14)\n    const [message,setMessage] = useState(\"\")\n    const [messageData,setMessageData] = useState([])\n    const [accountData,setAccountData] = useState([])\n    const [id,setId] = useState(location.pathname.slice(14))\n    const navigate = useNavigate();\n\n\n    if(socketDetails.ws_api){\n\n    socketDetails.ws_api.onopen = () => {console.log(\"connection established\")}\n    socketDetails.ws_api.onclose = () => {console.log(\"disconnected\")}\n\n    socketDetails.ws_api.onmessage = (res) => {\n        if(res.data){\n            console.log(res.data)\n            retrieveMessages();\n        }\n    }}\n\n    const socketMessages = () => {\n        if(message.length>0){\n            const msg_data = JSON.stringify({\"data\":message,\"code\":chat_id,\"type\":\"send\"})\n            if(msg_data.data !== \"\"){\n                socketDetails.ws_api.send(msg_data);\n            }\n            setMessage(\"\");\n        }\n    }\n\n    const getUsers = async() => {\n        const users = await AxiosRequest.get(`/accounts/retrieve_profiles/${user_id}`)\n                        .then((res)=> {console.log(res.data); setAccountData(res.data)})\n                        .catch((err) => {console.log(err)})\n    }\n\n    const changeText = (sender) => {\n        navigate(`/shareme/text/${user_id}-${sender}`);\n        setId(user_id+\"-\"+sender);\n    }\n\n    const RenderAccounts = accountData.map((each) => {\n        return(\n            <div key={each.id}  onClick={ () => changeText(each.user)} className='sm:text-lg md:xl lg:text-xl col-md-3 mt-4 mb-4 bg-blue-200 p-2 rounded-xl shadow-md hover:scale-110 ' >\n             {each.name}     \n            </div>\n        );\n    })\n\n\n\n    \n    \n   \n\n\n    const retrieveMessages = async() => {\n        const getMessage = await AxiosRequest.get(`/chat/text/${chat_id}`)\n                            .then((res) => {\n                                console.log(res.data)\n                                setMessageData(res.data);\n                            })\n\n        // ws request to get message\n        // const messagesList = JSON.stringify({\"data\":message,\"code\":chat_id,\"type\":\"fetch\"})\n        // ws_api.send(messagesList); \n\n    }\n    // http request to store message\n    // const sendMessages = async() => {\n    //     const sendMessage = await AxiosRequest.post(`/chat/text/${chat_id}`,{\"data\":message})\n    //                         .then((res) => {retrieveMessages();})\n    // }\n\n\n\n\n    let RenderMessages = messageData.map((each) => {\n        if(user_id == each.sender){\n            return(\n               \n                <div  key={each.id} className='col-md-5 mt-3 mb-3' style={{backgroundColor:\"lightGreen\",borderRadius:\"10px\", padding:\"5px\",textAlign:\"left\",marginRight:\"20px\"}}>\n                <div className='d-flex' style={{justifyContent:\"space-between\"}}>\n                <p style={{fontSize:\"13px\"}}><b>You</b></p> \n                <p style={{fontSize:\"10px\", marginLeft:\"10px\"}}>{each.time.slice(0,10)}  {each.time.slice(11,16)}</p>\n                </div>\n                <p style={{fontSize:\"15px\"}}>{each.data}</p>\n                </div>\n              \n\n            );\n        }\n        else{\n            return(\n               <div  key={each.id} align=\"right\">\n                <div className='col-md-5 mt-3 mb-3' style={{backgroundColor:\"yellow\",borderRadius:\"10px\", padding:\"5px\",textAlign:\"right\",marginRight:\"20px\"}}>\n                    <div className='d-flex' style={{justifyContent:\"space-between\"}}>\n                    <p style={{fontSize:\"10px\"}}>{each.time.slice(0,10)}  {each.time.slice(11,16)}</p>\n                    <p style={{fontSize:\"13px\"}}><b>{each.sender_name}</b></p> \n                    </div>\n                    <p style={{fontSize:\"15px\"}}>{each.data}</p>\n                </div>\n                </div>\n               \n            )\n        }\n    })\n\n    \n\n    useEffect(() => {\n        const user_id = DecodeToken(localStorage.getItem(\"access_token\")).user_id\n        const username = DecodeToken(localStorage.getItem(\"access_token\")).username\n        const ws_api = new WebSocket(`ws://localhost:8000/ws/chat/${window.location.pathname.slice(14)}`);\n        setSocketDetails({user_id:user_id,username:username,ws_api:ws_api})\n        retrieveMessages();\n        getUsers();\n    }, [id])\n\n   \n    \n    return (\n    <div className='container-fluid mt-4'>\n       \n        <div className='row'>\n            <div className='col-md-4'>\n                {RenderAccounts}\n            </div>\n            <div className='col-md-8'>\n                <div className='d-flex'>\n                <input className='form-control' style={{width:\"20rem\"}} value={message} placeholder='Enter the message' onChange={(e) => {setMessage(e.target.value)}}></input>\n                <button className='btn btn-dark ml-5' onClick={socketMessages}>Send</button>\n                </div>\n                {RenderMessages}\n            </div>\n           \n        </div>\n      \n    </div>\n  )\n}\n\n\nexport default Chat;\n\n\n"]},"metadata":{},"sourceType":"module"}