{"ast":null,"code":"var _jsxFileName = \"/home/saswat/Desktop/Shareme/frontend/src/Components/Cart/CartDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { DecodeToken } from '../token_decode';\nimport AxiosRequest from '../../axios';\nimport CartProductRecommendation from './CartProductRecommendation';\nimport { useNavigate } from 'react-router';\nimport { Axios } from 'axios';\nimport RenderCartData from './RenderCartData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CartDetails = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const user_id = DecodeToken(localStorage.getItem(\"access_token\")).user_id;\n  const [cartData, setCartData] = useState([]);\n  const [category, setCategory] = useState([]);\n  const [productRecommendation, setProductRecommendation] = useState([]);\n  const [netPrice, setNetPrice] = useState(0);\n\n  const calculateNetPrice = () => {\n    for (let i = 0; i < cartData.length; i++) {\n      netPrice += cartData[i].net_price;\n    }\n\n    setNetPrice(netPrice);\n  };\n\n  const retrieveCart = async () => {\n    const cartProducts = await AxiosRequest.get(`/shareme/cart/${user_id}`).then(res => {\n      setCartData(res.data);\n      retrieveRecommendation();\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const retrieveRecommendation = async () => {\n    const recProducts = await AxiosRequest.post(\"/shareme/posts/recommend\", {\n      user_id\n    }).then(res => {\n      setProductRecommendation(res.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }; // const handleQuantity = async(id,price) => {\n  //     const setQuantity = await AxiosRequest.put(`/shareme/cart/${id}`,{\"quantity\":quantity,\"net_price\":price})\n  //                         .then((res) => {retrieveCart();})\n  //                         .catch((err) => {console.log(err)})\n  // }\n\n\n  const deleteCartItem = async id => {\n    const deleteCartItem = await AxiosRequest.delete(`/shareme/cart/${id}`).then(res => {\n      retrieveCart();\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const handleOrder = async () => {\n    // const passOrder = await AxiosRequest.post(`/sales/orders/${user_id}`,cartData)\n    //                 .then((res) => {console.log(res);})\n    //                 .catch((err) => {console.log(err)})\n    navigate(`/shareme/orders/${user_id}`);\n  };\n\n  useEffect(() => {\n    retrieveCart();\n    calculateNetPrice();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    align: \"center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"display-6\",\n      children: \"Cart Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-7\",\n        children: /*#__PURE__*/_jsxDEV(RenderCartData, {\n          props: carData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-danger\",\n          onClick: handleOrder,\n          children: \" Place you order right now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(CartProductRecommendation, {\n        props: productRecommendation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CartDetails, \"//ezft/h66VK7/AE2A2pt6pTj3E=\", false, function () {\n  return [useNavigate];\n});\n\n_c = CartDetails;\nexport default CartDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartDetails\");","map":{"version":3,"sources":["/home/saswat/Desktop/Shareme/frontend/src/Components/Cart/CartDetails.js"],"names":["React","useState","useEffect","DecodeToken","AxiosRequest","CartProductRecommendation","useNavigate","Axios","RenderCartData","CartDetails","navigate","user_id","localStorage","getItem","cartData","setCartData","category","setCategory","productRecommendation","setProductRecommendation","netPrice","setNetPrice","calculateNetPrice","i","length","net_price","retrieveCart","cartProducts","get","then","res","data","retrieveRecommendation","catch","err","console","log","recProducts","post","deleteCartItem","id","delete","handleOrder","carData"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport { DecodeToken } from '../token_decode'\nimport AxiosRequest from '../../axios'\nimport CartProductRecommendation from './CartProductRecommendation'\nimport { useNavigate } from 'react-router'\nimport { Axios } from 'axios'\nimport RenderCartData from './RenderCartData'\n\nconst CartDetails = () => {\n    const navigate = useNavigate()\n    const user_id = DecodeToken(localStorage.getItem(\"access_token\")).user_id;\n    const [cartData,setCartData] = useState([])\n    const [category,setCategory] = useState([])\n    const [productRecommendation,setProductRecommendation] = useState([])\n    const [netPrice,setNetPrice] = useState(0);\n\n\n    const calculateNetPrice = () => {\n        for(let i=0;i<cartData.length;i++){\n            netPrice += (cartData[i].net_price)\n        }\n        setNetPrice(netPrice);\n    }\n    \n    \n    \n    \n\n\n    \n    const retrieveCart = async() => {\n        const cartProducts = await AxiosRequest.get(`/shareme/cart/${user_id}`)\n                            .then((res) => {\n                                setCartData(res.data)\n                                retrieveRecommendation();\n                            })\n                            .catch((err) => {console.log(err)})        \n    }\n\n\n    const retrieveRecommendation = async() => {\n            const recProducts = await AxiosRequest.post(\"/shareme/posts/recommend\",{user_id})\n                            .then((res) => {\n                                setProductRecommendation(res.data)    \n                            })\n                            .catch((err) => {console.log(err)})\n    }\n\n\n\n        // const handleQuantity = async(id,price) => {\n        //     const setQuantity = await AxiosRequest.put(`/shareme/cart/${id}`,{\"quantity\":quantity,\"net_price\":price})\n        //                         .then((res) => {retrieveCart();})\n        //                         .catch((err) => {console.log(err)})\n        // }\n\n    const deleteCartItem = async(id) => {\n            const deleteCartItem = await AxiosRequest.delete(`/shareme/cart/${id}`)\n                                .then((res) => {\n                                    retrieveCart();\n                                })\n                                .catch((err) => {console.log(err)})\n    }\n\n\n    const handleOrder = async() => {\n            // const passOrder = await AxiosRequest.post(`/sales/orders/${user_id}`,cartData)\n            //                 .then((res) => {console.log(res);})\n            //                 .catch((err) => {console.log(err)})\n            navigate(`/shareme/orders/${user_id}`)\n    }\n    \n\n    \n\n\n    useEffect(() => {\n      retrieveCart();\n      calculateNetPrice();\n    }, [])\n\n\n    return (\n    <div align=\"center\">\n        <h1 className='display-6'>Cart Details</h1>\n        <div className='container row'>\n        <div className='col-md-7'>\n        <RenderCartData props={carData}></RenderCartData>\n        </div>\n        <div className='col-md-3'>\n            <button className='btn btn-danger' onClick={handleOrder}> Place you order right now</button>\n        </div>\n        </div>\n\n        <div>\n            <CartProductRecommendation props={productRecommendation}/>\n        </div>\n\n    </div>\n  )\n}\n\nexport default CartDetails;\n"]},"metadata":{},"sourceType":"module"}