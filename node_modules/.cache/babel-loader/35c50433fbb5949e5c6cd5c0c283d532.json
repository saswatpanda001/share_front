{"ast":null,"code":"import _regeneratorRuntime from\"/home/saswat/Documents/Django/Shareme/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/saswat/Documents/Django/Shareme/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import{useLocation}from'react-router';import AxiosRequest from'../../../axios';import{Link}from'react-router-dom';import{PostContext}from'../../../app';import{useContext}from'react';import{useNavigate}from'react-router';import{DecodeToken}from'../../token_decode';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Operations=function Operations(_ref){var props=_ref.props;var postDetails=props;var navigate=useNavigate();var location=useLocation();var key=parseInt(location.pathname.slice(15));var handleDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var a;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return AxiosRequest.delete(\"/shareme/posts/\".concat(key,\"/delete\")).then(function(res){navigate(\"/shareme/posts\");});case 2:a=_context.sent;case 3:case\"end\":return _context.stop();}}},_callee);}));return function handleDelete(){return _ref2.apply(this,arguments);};}();var username=DecodeToken(localStorage.getItem(\"access_token\")).username;console.log(postDetails.details.username+\" \"+username);if(username==postDetails.details.username){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(Link,{to:{pathname:\"update\",state:\"state\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"large red edit icon\"})}),/*#__PURE__*/_jsx(\"i\",{className:\"large red trash icon\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Confirm Post Deletion\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:\"Are you sure you want to delete this Post\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-dark\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger\",onClick:handleDelete,\"data-bs-dismiss\":\"modal\",children:\"Confirm Delete\"})]})]})})})]});}else{return null;}};export default Operations;","map":{"version":3,"sources":["/home/saswat/Documents/Django/Shareme/frontend/src/Components/posts/details/operations.js"],"names":["React","useLocation","AxiosRequest","Link","PostContext","useContext","useNavigate","DecodeToken","Operations","props","postDetails","navigate","location","key","parseInt","pathname","slice","handleDelete","delete","then","res","a","username","localStorage","getItem","console","log","details","state"],"mappings":"+PAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,cAA5B,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,WAAT,KAA4B,cAA5B,CACA,OAASC,UAAT,KAA2B,OAA3B,CACA,OAASC,WAAT,KAA4B,cAA5B,CACA,OAASC,WAAT,KAA4B,oBAA5B,C,wFAOA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAa,IAAXC,CAAAA,KAAW,MAAXA,KAAW,CAE5B,GAAMC,CAAAA,WAAW,CAAGD,KAApB,CAEA,GAAME,CAAAA,QAAQ,CAAEL,WAAW,EAA3B,CAMA,GAAMM,CAAAA,QAAQ,CAAGX,WAAW,EAA5B,CACA,GAAMY,CAAAA,GAAG,CAAGC,QAAQ,CAACF,QAAQ,CAACG,QAAT,CAAkBC,KAAlB,CAAwB,EAAxB,CAAD,CAApB,CAEA,GAAMC,CAAAA,YAAY,2FAAG,+JACDf,CAAAA,YAAY,CAACgB,MAAb,0BAAsCL,GAAtC,aACHM,IADG,CACE,SAACC,GAAD,CAAS,CAACT,QAAQ,CAAC,gBAAD,CAAR,CAA2B,CADvC,CADC,QACXU,CADW,qEAAH,kBAAZJ,CAAAA,YAAY,2CAAlB,CAKA,GAAMK,CAAAA,QAAQ,CAAGf,WAAW,CAACgB,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAD,CAAX,CAAkDF,QAAnE,CACAG,OAAO,CAACC,GAAR,CAAYhB,WAAW,CAACiB,OAAZ,CAAoBL,QAApB,CAA+B,GAA/B,CAAmCA,QAA/C,EACA,GAAGA,QAAQ,EAAIZ,WAAW,CAACiB,OAAZ,CAAoBL,QAAnC,CAA4C,CACxC,mBACI,oCAEA,aAAK,SAAS,CAAC,QAAf,wBACI,KAAC,IAAD,EAAM,EAAE,CAAE,CAACP,QAAQ,CAAC,QAAV,CAAmBa,KAAK,CAAC,OAAzB,CAAV,uBACA,UAAG,SAAS,CAAC,qBAAb,EADA,EADJ,cAII,UAAG,SAAS,CAAC,sBAAb,CAAoC,iBAAe,OAAnD,CAA2D,iBAAe,eAA1E,EAJJ,GAFA,cASA,YAAK,SAAS,CAAC,YAAf,CAA4B,EAAE,CAAC,cAA/B,CAA8C,QAAQ,CAAC,IAAvD,CAA4D,kBAAgB,mBAA5E,CAAgG,cAAY,MAA5G,uBACA,YAAK,SAAS,CAAC,oCAAf,uBACI,aAAK,SAAS,CAAC,eAAf,wBACA,aAAK,SAAS,CAAC,cAAf,wBACI,WAAI,SAAS,CAAC,aAAd,CAA4B,EAAE,CAAC,mBAA/B,mCADJ,cAEI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,WAAhC,CAA4C,kBAAgB,OAA5D,CAAoE,aAAW,OAA/E,EAFJ,GADA,cAKA,YAAK,SAAS,CAAC,YAAf,uDALA,cAQA,aAAK,SAAS,CAAC,cAAf,wBAEI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,cAAhC,CAA+C,kBAAgB,OAA/D,mBAFJ,cAGI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,gBAAhC,CAAkD,OAAO,CAAEX,YAA3D,CAAyE,kBAAgB,OAAzF,4BAHJ,GARA,GADJ,EADA,EATA,GADJ,CAgCH,CAjCD,IAkCI,CACA,MAAO,KAAP,CACH,CAGJ,CA3DD,CA6DA,cAAeT,CAAAA,UAAf","sourcesContent":["import React from 'react'\nimport { useLocation } from 'react-router';\nimport AxiosRequest from '../../../axios';\nimport { Link } from 'react-router-dom';\nimport { PostContext } from '../../../app';\nimport { useContext } from 'react';\nimport { useNavigate } from 'react-router';\nimport { DecodeToken } from '../../token_decode';\n\n\n\n\n\n\nconst Operations = ({props}) => {\n    \n    const postDetails = props\n    \n    const navigate =useNavigate()\n    \n\n\n\n    \n    const location = useLocation()\n    const key = parseInt(location.pathname.slice(15,))\n\n    const handleDelete = async() => {\n        const a = await AxiosRequest.delete(`/shareme/posts/${key}/delete`)\n                    .then((res) => {navigate(\"/shareme/posts\")})\n    }\n    \n    const username = DecodeToken(localStorage.getItem(\"access_token\")).username\n    console.log(postDetails.details.username + \" \"+username)\n    if(username == postDetails.details.username){\n        return(\n            <div>\n\n            <div className='d-flex'>\n                <Link to={{pathname:\"update\",state:\"state\"}}>\n                <i className=\"large red edit icon\"></i>\n                </Link>\n                <i className=\"large red trash icon\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\"></i>\n            </div>\n\n            <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n            <div className=\"modal-dialog modal-dialog-centered\">\n                <div className=\"modal-content\">\n                <div className=\"modal-header\">\n                    <h5 className=\"modal-title\" id=\"exampleModalLabel\">Confirm Post Deletion</h5>\n                    <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                </div>\n                <div className=\"modal-body\">\n                Are you sure you want to delete this Post\n                </div>\n                <div className=\"modal-footer\">\n                    \n                    <button type=\"button\" className=\"btn btn-dark\" data-bs-dismiss=\"modal\">Close</button>\n                    <button type=\"button\" className=\"btn btn-danger\"  onClick={handleDelete} data-bs-dismiss=\"modal\">Confirm Delete</button>\n                </div>\n                </div>\n            </div>\n            </div>\n\n\n            </div>\n        );                      \n    }\n    else{\n        return(null);\n    }\n\n\n}\n\nexport default Operations;\n\n"]},"metadata":{},"sourceType":"module"}