{"ast":null,"code":"import _slicedToArray from\"/home/saswat/Documents/Django/Shareme/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import{useNavigate,useLocation}from'react-router';import AxiosRequest from'../../axios';import{Link}from'react-router-dom';import{HeaderContext}from'../../app';import Header from'./header';import{AuthActions}from'../Redux/ReduxTutorial';import{useDispatch}from'react-redux';import{DecodeToken}from'../token_decode';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var navigate=useNavigate();var _useContext=useContext(HeaderContext),setHeader=_useContext.setHeader,header=_useContext.header;var _useState=useState({username:\"\",password:\"\",email:\"\"}),_useState2=_slicedToArray(_useState,2),loginDetails=_useState2[0],setLoginDetails=_useState2[1];var username=loginDetails.username,password=loginDetails.password,email=loginDetails.email;// const Dispatch = useDispatch();\nvar handleChange=function handleChange(e){loginDetails[e.target.name]=e.target.value;setLoginDetails(loginDetails);console.log(loginDetails);};var handleSubmit=function handleSubmit(){var passLoginRequest=JSON.stringify(loginDetails);AxiosRequest.post('/api/get_token',passLoginRequest).then(function(res){console.log(res.data.access);if(res.data.access){localStorage.setItem(\"access_token\",res.data.access);setHeader(true);// Dispatch(AuthActions.user_auth(true))\n// Dispatch(AuthActions.username(username))\n// Dispatch(AuthActions.user_id(user_id))\n// Dispatch(AuthActions.name(first_name+last_name))\nnavigate('/shareme/posts');}}).catch(function(err){console.log(\"errors: \");console.log(err);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid col-md-5 mt-4\",style:{marginTop:\"3%\",backgroundColor:\"white\",padding:\"3%\",borderRadius:\"25px\"},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-5\",children:\"Enter your login details\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"lead\",children:[\"New user \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"click here\"}),\" to signup\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\",marginBottom:\"2%\"},children:[/*#__PURE__*/_jsx(\"i\",{class:\"big user icon\"}),/*#__PURE__*/_jsx(\"p\",{className:\"form-label lead\",children:\"Username\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"username\",name:\"username\",className:\"form-control\",placeholder:\"Enter username\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\",marginBottom:\"2%\"},children:[/*#__PURE__*/_jsx(\"i\",{class:\"big user icon\"}),/*#__PURE__*/_jsx(\"p\",{className:\"form-label lead\",children:\"Email\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",className:\"form-control\",placeholder:\"Enter email\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\",marginBottom:\"2%\"},children:[/*#__PURE__*/_jsx(\"i\",{class:\"big keyboard icon\"}),/*#__PURE__*/_jsx(\"p\",{className:\"form-label lead\",children:\"Password\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"form-control\",placeholder:\"Enter Password\",onChange:handleChange})]}),/*#__PURE__*/_jsx(\"div\",{align:\"center\",className:\"d-grid gap-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",onClick:handleSubmit,children:\"Login\"})})]})]});};export default Login;","map":{"version":3,"sources":["/home/saswat/Documents/Django/Shareme/frontend/src/Components/basic/login.js"],"names":["React","useContext","useState","useNavigate","useLocation","AxiosRequest","Link","HeaderContext","Header","AuthActions","useDispatch","DecodeToken","Login","navigate","setHeader","header","username","password","email","loginDetails","setLoginDetails","handleChange","e","target","name","value","console","log","handleSubmit","passLoginRequest","JSON","stringify","post","then","res","data","access","localStorage","setItem","catch","err","marginTop","backgroundColor","padding","borderRadius","display","justifyContent","alignItems","marginBottom"],"mappings":"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","sourcesContent":["import React, {useContext, useState} from 'react'\nimport { useNavigate,useLocation} from 'react-router'\nimport AxiosRequest from '../../axios';\nimport { Link } from 'react-router-dom';\nimport { HeaderContext } from '../../app';\nimport Header from './header';\nimport { AuthActions } from '../Redux/ReduxTutorial';\nimport { useDispatch} from 'react-redux';\nimport { DecodeToken } from '../token_decode';\n\n\nconst Login = () => {\n    const navigate = useNavigate();\n    const {setHeader,header}  =useContext(HeaderContext)\n    const [loginDetails,setLoginDetails] = useState({username:\"\",password:\"\",email:\"\"});\n    const {username,password,email} = loginDetails;\n\n    // const Dispatch = useDispatch();\n\n\n    const handleChange = (e) => {\n       \n        loginDetails[e.target.name] = e.target.value\n        setLoginDetails(loginDetails)\n        console.log(loginDetails)\n      \n    }\n\n    \n    \n    const handleSubmit = () => {\n        const passLoginRequest = JSON.stringify(loginDetails)\n        AxiosRequest.post('/api/get_token',passLoginRequest)\n        .then((res) => {\n            \n            console.log(res.data.access)\n            if(res.data.access){\n                localStorage.setItem(\"access_token\",res.data.access)\n                setHeader(true)\n                // Dispatch(AuthActions.user_auth(true))\n                // Dispatch(AuthActions.username(username))\n                // Dispatch(AuthActions.user_id(user_id))\n                // Dispatch(AuthActions.name(first_name+last_name))\n\n                navigate('/shareme/posts')\n          \n            }\n            \n            \n\n        })\n        .catch((err) => {console.log(\"errors: \");console.log(err);})\n    }\n\n  \n    \n    \n    return (\n\n        <div className=\"container-fluid col-md-5 mt-4\" style={{marginTop:\"3%\",backgroundColor:\"white\",padding:\"3%\",borderRadius:\"25px\"}}>\n        <h1 className='display-5'>Enter your login details</h1>\n        <p className='lead'>New user <Link to='/signup'>click here</Link> to signup</p>\n\n\n        <div>\n        <div className=\"mb-3 mt-3\">\n        <div style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\", marginBottom:\"2%\"}}>\n        <i class=\"big user icon\"></i>\n        <p className=\"form-label lead\">Username</p>\n        </div>\n        <input type=\"username\" name=\"username\" className=\"form-control\"placeholder=\"Enter username\" onChange={handleChange}/>\n        </div>\n\n        <div className=\"mb-3 mt-3\">\n        <div style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\", marginBottom:\"2%\"}}>\n        <i class=\"big user icon\"></i>\n        <p className=\"form-label lead\">Email</p>\n        </div>\n        <input type=\"email\" name=\"email\" className=\"form-control\" placeholder=\"Enter email\" onChange={handleChange}/>\n        </div>\n\n\n        <div className=\"mb-3\">\n        <div style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\", marginBottom:\"2%\"}}>\n        <i class=\"big keyboard icon\"></i>\n        <p className=\"form-label lead\">Password</p>\n        </div>\n        <input type=\"password\" name=\"password\" className=\"form-control\"  placeholder=\"Enter Password\" onChange={handleChange}/>\n        </div>\n        <div align=\"center\" className='d-grid gap-2'>\n        <button  className=\"btn btn-dark\" onClick={handleSubmit}>Login</button>\n        </div>\n        </div>\n\n\n        </div>\n    )\n}\n\nexport default Login;\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}