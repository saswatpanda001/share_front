{"ast":null,"code":"var _jsxFileName = \"/home/saswat/Desktop/Shareme/frontend/src/Components/posts/details.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport Loading from '../basic/loading';\nimport { PostContext } from '../../app';\nimport { useContext } from 'react';\nimport AxiosRequest from '../../axios';\nimport ReviewMangement from './details/comments';\nimport Operations from './details/operations';\nimport { DecodeToken } from '../token_decode';\nimport LikeCommentsUsers from './details/likecommentusers';\nimport LikePostsUsers from './details/likepostusers';\nimport ImageList from './details/ImageList';\nimport Quantity from './details/Quantity';\nimport Rating from './details/Rating';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Details = () => {\n  _s();\n\n  const user_id = DecodeToken(localStorage.getItem(\"access_token\")).user_id;\n  const navigate = useNavigate();\n  const location = useLocation();\n  const key = parseInt(location.pathname.slice(15));\n  const {\n    postDetails,\n    setPostDetails\n  } = useContext(PostContext);\n  const {\n    details,\n    loading\n  } = postDetails;\n  const [likeData, setLikeData] = useState({\n    \"data\": null,\n    \"likes\": null,\n    \"status\": false\n  });\n  let y = null;\n\n  const retrievePostDetails = async () => {\n    const fetchDetails = await AxiosRequest.get(`/shareme/posts/${key}`).then(res => {\n      setPostDetails({\n        loading: false,\n        details: res.data\n      });\n    }).catch(err => console.log(err));\n  };\n\n  let RenderLikeUsers = null;\n\n  const GetLikePosts = async () => {\n    const post_like = AxiosRequest.get(`/shareme/posts/${key}/likes`).then(res => {\n      setLikeData({\n        \"data\": res.data.data,\n        \"likes\": res.data.likes,\n        \"status\": true\n      });\n      console.log(likeData.data);\n    });\n  };\n\n  const UpdateLikePosts = async () => {\n    const post_like = AxiosRequest.post(`/shareme/posts/${key}/likes`, {\n      \"user_id\": user_id\n    }).then(res => {\n      setLikeData({\n        \"data\": res.data.data,\n        \"likes\": res.data.likes,\n        \"status\": true\n      });\n      retrievePostDetails();\n    });\n  };\n\n  const handleQuantity = async quantity => {\n    const {\n      author,\n      title,\n      price,\n      id,\n      image,\n      category\n    } = postDetails.details;\n    const data = {\n      \"seller\": author,\n      \"buyer\": user_id,\n      \"net_price\": price * quantity,\n      \"title\": title,\n      \"product\": id,\n      \"quantity\": quantity,\n      category: parseInt(category)\n    };\n    const prod_quantity = await AxiosRequest.post(`/shareme/cart/${user_id}`, data).then(res => {\n      console.log(res.data);\n    }).catch(err => {\n      console.log(err);\n    });\n    navigate(`/shareme/cart/${user_id}`);\n  };\n\n  useEffect(() => {\n    GetLikePosts();\n    retrievePostDetails();\n  }, []);\n\n  if (postDetails.loading === false) {\n    let likeIconStyle = \"outline\";\n    postDetails.details.likes.map(a => {\n      if (a === user_id) {\n        likeIconStyle = \"\";\n      }\n    });\n\n    const PostData = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex\",\n      style: {\n        alignItems: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: \"25px\"\n        },\n        children: postDetails.details.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n        style: {\n          marginLeft: \"25px\"\n        },\n        class: `big thumbs up red ${likeIconStyle} icon`,\n        onClick: UpdateLikePosts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: \"20px\"\n        },\n        \"data-bs-toggle\": \"modal\",\n        \"data-bs-target\": \"#postlikeusersmodal\",\n        children: postDetails.details.likes.length\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: postDetails.details.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 22\n    }, this);\n\n    const Details = /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: \"3%\",\n        fontSize: \"125%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: postDetails.details.data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: `/shareme/profile/${postDetails.details.author}`,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"lead\",\n          children: postDetails.details.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 85\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 22\n    }, this);\n\n    console.log(postDetails.details);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container row \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-5\",\n        style: {\n          textAlign: \"left\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          style: {\n            margin: \"30px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(ImageList, {\n            props: postDetails.details\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            margin: \"2rem\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold lg:text-3xl text-xl\",\n            children: postDetails.details.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex mt-3 items-center mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Rating, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 13\n            }, this), \"(183)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-bol\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-sans text-md\",\n            children: [\"Seller: \", /*#__PURE__*/_jsxDEV(Link, {\n              to: `/shareme/profile/${postDetails.details.author}`,\n              children: [\" \", postDetails.details.username]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 54\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Quantity, {\n            QuantityFunction: handleQuantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ReviewMangement, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 5\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-5\",\n      children: /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 33\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }, this);\n  }\n};\n\n_s(Details, \"I3uewJCAsq5H+r8WrzCMdijhmmg=\", false, function () {\n  return [useNavigate, useLocation];\n});\n\n_c = Details;\nexport default Details;\n\nvar _c;\n\n$RefreshReg$(_c, \"Details\");","map":{"version":3,"sources":["/home/saswat/Desktop/Shareme/frontend/src/Components/posts/details.js"],"names":["React","useState","useEffect","useLocation","useNavigate","Link","Loading","PostContext","useContext","AxiosRequest","ReviewMangement","Operations","DecodeToken","LikeCommentsUsers","LikePostsUsers","ImageList","Quantity","Rating","Details","user_id","localStorage","getItem","navigate","location","key","parseInt","pathname","slice","postDetails","setPostDetails","details","loading","likeData","setLikeData","y","retrievePostDetails","fetchDetails","get","then","res","data","catch","err","console","log","RenderLikeUsers","GetLikePosts","post_like","likes","UpdateLikePosts","post","handleQuantity","quantity","author","title","price","id","image","category","prod_quantity","likeIconStyle","map","a","PostData","alignItems","fontSize","marginLeft","length","content","margin","username","textAlign"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from 'react';\nimport { useLocation,useNavigate } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport Loading from '../basic/loading';\nimport { PostContext } from '../../app';\nimport { useContext } from 'react';\nimport AxiosRequest from '../../axios';\nimport ReviewMangement from './details/comments';\nimport Operations from './details/operations';\nimport { DecodeToken } from '../token_decode';\nimport LikeCommentsUsers from './details/likecommentusers';\nimport LikePostsUsers from './details/likepostusers';\nimport ImageList from './details/ImageList';\nimport Quantity from './details/Quantity';\nimport Rating from './details/Rating';\n\nconst Details = () => {\n\n    const user_id = DecodeToken(localStorage.getItem(\"access_token\")).user_id\n    const navigate = useNavigate();\n    const location = useLocation();\n    const key = parseInt(location.pathname.slice(15,))\n\n    const {postDetails,setPostDetails} = useContext(PostContext)\n    const {details,loading} = postDetails\n    const [likeData,setLikeData] = useState({\"data\":null,\"likes\":null,\"status\":false})\n    \n    \n\n    let y = null;\n    \n    const retrievePostDetails = async() => {\n        const fetchDetails = await AxiosRequest.get(`/shareme/posts/${key}`)\n                            .then((res) => {\n                               \n                                setPostDetails({loading:false,details:res.data});\n                                 \n                            })\n                            .catch((err) => console.log(err))\n    }\n\n\n    let RenderLikeUsers = null\n    \n    const GetLikePosts = async() => {\n        const post_like = AxiosRequest.get(`/shareme/posts/${key}/likes`)\n                            .then((res) => {\n                                setLikeData({\"data\":res.data.data,\"likes\":res.data.likes,\"status\":true})\n                                console.log(likeData.data)\n                            })\n    }\n\n    const UpdateLikePosts = async() => {\n        const post_like = AxiosRequest.post(`/shareme/posts/${key}/likes`,{\"user_id\":user_id})\n                            .then((res) => {\n                                setLikeData({\"data\":res.data.data,\"likes\":res.data.likes,\"status\":true})\n                                retrievePostDetails();\n                            })\n    }\n\n    const handleQuantity = async(quantity) => {\n        \n        const {author,title,price,id,image,category} = postDetails.details\n        const data = {\"seller\":author,\"buyer\":user_id,\"net_price\":price*quantity,\"title\":title,\"product\":id,\"quantity\":quantity,category:parseInt(category)}\n        const prod_quantity= await AxiosRequest.post(`/shareme/cart/${user_id}`,data)\n                            .then((res) => {console.log(res.data)})\n                            .catch((err) => {console.log(err)})\n\n        navigate(`/shareme/cart/${user_id}`);\n    }\n\n\n    \n\n    useEffect(() => {\n        GetLikePosts();\n        retrievePostDetails();\n    }, []);\n\n\n    if(postDetails.loading ===false){\n    let likeIconStyle = \"outline\"\n    postDetails.details.likes.map((a) => {\n        if(a === user_id){\n            likeIconStyle = \"\"\n        }\n    })\n\n    const PostData = <div className='d-flex' style={{alignItems:\"center\"}}>\n                        <p style={{fontSize:\"25px\"}}>{postDetails.details.title}</p>\n                        <i style={{marginLeft:\"25px\"}} class={`big thumbs up red ${likeIconStyle} icon`} onClick={UpdateLikePosts}></i>\n                        <p style={{fontSize:\"20px\"}} data-bs-toggle=\"modal\" data-bs-target=\"#postlikeusersmodal\">{postDetails.details.likes.length}</p>\n                        <h3>{postDetails.details.content}</h3>\n                    </div>\n\n   \n    const Details =  <div style={{margin:\"3%\",fontSize:\"125%\"}}>\n                        <p>{postDetails.details.data}</p>\n                        <Link to={`/shareme/profile/${postDetails.details.author}`}><p className='lead'>{postDetails.details.username}</p></Link>\n                      </div>\n\n                    \n    console.log(postDetails.details)\n    return(  \n    <div className='container row '>\n    <div className='col-md-5' style={{textAlign:\"left\"}}>\n    \n     <div className='container' style={{margin:\"30px\"}}>\n        <ImageList props={postDetails.details}/>        \n    </div>\n    </div>\n    <div className='col-md-1'></div>\n\n    <div className='col-md-6'>\n        <div style={{margin:\"2rem\"}}>\n            {/* <Operations props={postDetails}/> \n            <LikePostsUsers props={likeData.data}/>   */}\n            \n            \n           \n            <p className='font-semibold lg:text-3xl text-xl'>{postDetails.details.title}</p>\n            <div className='d-flex mt-3 items-center mb-3'>\n            <Rating/>(183)\n            </div>\n            <p className='font-bol'></p>\n            <p className='font-sans text-md'>Seller: <Link to={`/shareme/profile/${postDetails.details.author}`}> {postDetails.details.username}</Link></p>\n            <Quantity QuantityFunction={handleQuantity}/>\n            <ReviewMangement/>\n            \n        </div>\n    </div>\n\n\n    </div>\n  );}\n  \n  else{\n      return(\n          <div className='mb-5'><Loading/></div>\n      )\n  }\n   \n};\n\nexport default Details;\n\n\n\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}