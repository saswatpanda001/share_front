{"ast":null,"code":"import _regeneratorRuntime from\"/home/saswat/Documents/Django/Shareme/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/saswat/Documents/Django/Shareme/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/saswat/Documents/Django/Shareme/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useLocation,useNavigate}from'react-router';import AxiosRequest from'../../axios';import{DecodeToken}from'../token_decode';import{Link}from'react-router-dom';import{Navigate}from'react-router';import ProfileFollowers from'./profile/Followers';import ProfileFollowing from'./profile/Following';import Contact from'./profile/Contact';import ProfileButtons from'./profile/ProfileButtons';import ProfileData from'./profile/ProfileData';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Profile=function Profile(){var navigation=useNavigate();var location=useLocation();var key=window.location.pathname.slice(17);var _DecodeToken=DecodeToken(localStorage.getItem(\"access_token\")),user_id=_DecodeToken.user_id;var _useState=useState({following:[],followers:[]}),_useState2=_slicedToArray(_useState,2),followData=_useState2[0],setFollowData=_useState2[1];var _useState3=useState({about:\"\",id:\"\",adress:\"\",birthdate:\"\",followers:\"\",following:\"\",hobby:\"\",name:\"\",location:\"\",status:\"\",user:\"\",work:\"\",image:\"\",email:\"\",website:\"\",phone:\"\"}),_useState4=_slicedToArray(_useState3,2),profile=_useState4[0],setProfile=_useState4[1];var HandleUserNavigation=function HandleUserNavigation(idd){console.log(idd);navigation(\"/shareme/profile/\".concat(idd));retrieveProfileDetails(idd);};var retrieveProfileDetails=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(idd){var details;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(idd){key=idd;}_context.next=3;return AxiosRequest.get(\"/accounts/profile/\".concat(key)).then(function(res){var _res$data$ser_data=res.data.ser_data,phone=_res$data$ser_data.phone,image=_res$data$ser_data.image,about=_res$data$ser_data.about,id=_res$data$ser_data.id,adress=_res$data$ser_data.adress,birthdate=_res$data$ser_data.birthdate,followers=_res$data$ser_data.followers,following=_res$data$ser_data.following,hobby=_res$data$ser_data.hobby,name=_res$data$ser_data.name,location=_res$data$ser_data.location,status=_res$data$ser_data.status,user=_res$data$ser_data.user,work=_res$data$ser_data.work,email=_res$data$ser_data.email,website=_res$data$ser_data.website;setProfile({phone:phone,email:email,website:website,about:about,id:id,adress:adress,birthdate:birthdate,followers:followers,following:following,hobby:hobby,name:name,location:location,status:status,user:user,work:work,image:image});setFollowData({following:res.data.fg,followers:res.data.fr});}).catch(function(err){return console.log(err);});case 3:details=_context.sent;case 4:case\"end\":return _context.stop();}}},_callee);}));return function retrieveProfileDetails(_x){return _ref.apply(this,arguments);};}();useEffect(function(){retrieveProfileDetails();},[]);var handleFollowers=function handleFollowers(){var followers=AxiosRequest.put(\"/accounts/profile/\".concat(key),{user_id:user_id,fol_id:key}).then(function(res){console.log(res);retrieveProfileDetails();}).catch(function(err){console.log(err);});};var RenderFollowers=followData.followers.map(function(each){var k=each[1];return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"lead\",onClick:function onClick(){HandleUserNavigation(k);},children:[\" name: \",each[0],\", id: \",each[1],\"  \"]})},each[1]);});var RenderFollowing=followData.following.map(function(each){var k=each[1];return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"lead\",onClick:function onClick(){HandleUserNavigation(k);},children:[\" name: \",each[0],\", id: \",each[1],\"  \"]})},each[1]);});var text_id=user_id+\"-\"+profile.user;var passProfileData={\"profile\":profile,\"accounts\":followData};return/*#__PURE__*/_jsxs(\"div\",{className:\"container row mt-5 ml-5 mb-5\",children:[/*#__PURE__*/_jsx(Contact,{props:profile}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-7\",style:{textAlign:\"left\"},children:[/*#__PURE__*/_jsx(ProfileData,{props:passProfileData}),/*#__PURE__*/_jsx(ProfileButtons,{props:profile.user,fol:handleFollowers})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 ml-4 col-md-2\"})]});};export default Profile;","map":{"version":3,"sources":["/home/saswat/Documents/Django/Shareme/frontend/src/Components/basic/profile.js"],"names":["React","useState","useEffect","useLocation","useNavigate","AxiosRequest","DecodeToken","Link","Navigate","ProfileFollowers","ProfileFollowing","Contact","ProfileButtons","ProfileData","Profile","navigation","location","key","window","pathname","slice","localStorage","getItem","user_id","following","followers","followData","setFollowData","about","id","adress","birthdate","hobby","name","status","user","work","image","email","website","phone","profile","setProfile","HandleUserNavigation","idd","console","log","retrieveProfileDetails","get","then","res","data","ser_data","fg","fr","catch","err","details","handleFollowers","put","fol_id","RenderFollowers","map","each","k","RenderFollowing","text_id","passProfileData","textAlign"],"mappings":"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","sourcesContent":["\nimport React,{useState,useEffect} from 'react'\nimport { useLocation, useNavigate } from 'react-router';\nimport AxiosRequest from '../../axios';\nimport { DecodeToken } from '../token_decode';\nimport { Link } from 'react-router-dom';\nimport { Navigate } from 'react-router';\nimport ProfileFollowers from './profile/Followers';\nimport ProfileFollowing from './profile/Following';\nimport Contact from './profile/Contact';\nimport ProfileButtons from './profile/ProfileButtons';\nimport ProfileData from './profile/ProfileData';\n\n\n\nconst Profile = () => {\n  const navigation = useNavigate()\n  const location = useLocation();\n  let key =window.location.pathname.slice(17,)\n  const {user_id} = DecodeToken(localStorage.getItem(\"access_token\"))\n  const [followData,setFollowData] = useState({following:[],followers:[]})\n\n  const [profile,setProfile] = useState({about:\"\",id:\"\",adress:\"\",birthdate:\"\",followers:\"\",following:\"\",hobby:\"\",name:\"\",location:\"\",status:\"\",user:\"\",work:\"\",image:\"\",email:\"\",website:\"\",phone:\"\"});\n\n  const HandleUserNavigation = (idd) => {\n      console.log(idd);\n      navigation(`/shareme/profile/${idd}`);\n      retrieveProfileDetails(idd);\n  }\n\n\n  const retrieveProfileDetails = async(idd) => {\n    if(idd){\n      key =idd\n    }\n    const details =await AxiosRequest.get(`/accounts/profile/${key}`)\n                    .then((res) => {\n                    \n                      const {phone,image,about,id,adress,birthdate,followers,following,hobby,name,location,status,user,work,email,website} = res.data.ser_data\n                      setProfile({phone:phone,email:email,website:website,about:about,id:id,adress:adress,birthdate:birthdate,followers:followers,following:following,hobby:hobby,name:name,location:location,status:status,user:user,work:work,image:image});\n                      setFollowData({following:res.data.fg,followers:res.data.fr})\n                      \n                    })\n                    .catch(err => console.log(err))\n  }\n\n  useEffect(() => {\n    retrieveProfileDetails()\n  },[])\n\n\n  const handleFollowers = () => {\n    const followers = AxiosRequest.put(`/accounts/profile/${key}`,{user_id:user_id,fol_id:key})\n                      .then((res) => {console.log(res);retrieveProfileDetails()})\n                      .catch((err) => {console.log(err)})\n  }\n\n  \n  const RenderFollowers = followData.followers.map((each) => {\n    const k = each[1]\n    return(\n      <div key={each[1]}>\n      <p className='lead' onClick={() => {HandleUserNavigation(k)}}> name: {each[0]}, id: {each[1]}  </p>\n      </div>\n    );\n  })\n  \n\n  const RenderFollowing = followData.following.map((each) => {\n    const k = each[1]\n    return(\n      <div key={each[1]}>\n      <p className='lead' onClick={() => {HandleUserNavigation(k)}}> name: {each[0]}, id: {each[1]}  </p>\n        \n      </div>\n    );\n  })\n\n\n  const text_id = user_id+\"-\"+profile.user;\n  \n  const passProfileData = {\"profile\":profile,\"accounts\":followData}\n  return (\n    <div className='container row mt-5 ml-5 mb-5'>\n      <Contact props={profile}/>\n    \n    <div className='col-md-7' style={{textAlign:\"left\"}}>\n      <ProfileData props={passProfileData}/>\n      <ProfileButtons props={profile.user} fol={handleFollowers}/>\n    </div>\n    <div className='mt-4 ml-4 col-md-2'></div>\n    </div>\n  )\n}\n\nexport default Profile;\n\n"]},"metadata":{},"sourceType":"module"}