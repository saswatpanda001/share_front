{"ast":null,"code":"import _regeneratorRuntime from\"/home/saswat/Documents/Django/Shareme/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/saswat/Documents/Django/Shareme/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useState,useEffect}from'react';import{useLocation,useNavigate}from'react-router';import AxiosRequest from'../../axios';import{PostContext}from'../../app';import{useContext}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdatePost=function UpdatePost(props){var navigation=useNavigate();var _useContext=useContext(PostContext),postDetails=_useContext.postDetails,setPostDetails=_useContext.setPostDetails;var _postDetails$details=postDetails.details,title=_postDetails$details.title,data=_postDetails$details.data,content=_postDetails$details.content,id=_postDetails$details.id;var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var cleanFormData,req;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:cleanFormData=JSON.stringify(postDetails.details);console.log(cleanFormData);_context.next=4;return AxiosRequest.put(\"/shareme/posts/\".concat(id,\"/update\"),cleanFormData).then(function(res){navigation(\"/shareme/posts/\".concat(id));console.log(\"updated\");}).catch(function(err){console.log(err);});case 4:req=_context.sent;case 5:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();var handleUpdate=function handleUpdate(e){postDetails.details[e.target.name]=e.target.value;setPostDetails({loading:false,details:postDetails.details});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid col-md-5 mt-4\",style:{backgroundColor:\"white\",padding:\"3%\",borderRadius:\"25px\",marginTop:\"25px\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"display-4\",children:\"Update Post\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3 mt-3\",children:[/*#__PURE__*/_jsx(\"label\",{class:\"form-label lead\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:title,name:\"title\",class:\"form-control\",placeholder:\"Enter the title\",onChange:handleUpdate})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{class:\"form-label lead\",children:\"Content\"}),/*#__PURE__*/_jsx(\"textarea\",{class:\"form-control\",defaultValue:content,name:\"content\",rows:\"3\",placeholder:\"Enter the content\",onChange:handleUpdate})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{class:\"form-label lead\",children:\"Data\"}),/*#__PURE__*/_jsx(\"textarea\",{class:\"form-control\",defaultValue:data,name:\"data\",rows:\"3\",placeholder:\"Enter the data\",onChange:handleUpdate})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid gap-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",onClick:handleSubmit,children:\"Submit\"})})]})]});};export default UpdatePost;","map":{"version":3,"sources":["/home/saswat/Documents/Django/Shareme/frontend/src/Components/posts/update.js"],"names":["React","useState","useEffect","useLocation","useNavigate","AxiosRequest","PostContext","useContext","UpdatePost","props","navigation","postDetails","setPostDetails","details","title","data","content","id","handleSubmit","cleanFormData","JSON","stringify","console","log","put","then","res","catch","err","req","handleUpdate","e","target","name","value","loading","backgroundColor","padding","borderRadius","marginTop"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport { useLocation,useNavigate } from 'react-router';\nimport AxiosRequest from '../../axios';\nimport { PostContext } from '../../app';\nimport { useContext } from 'react';\n\n\nconst UpdatePost = (props) => {\n    const navigation = useNavigate()\n    const {postDetails,setPostDetails} = useContext(PostContext);\n    const {title,data,content,id} = postDetails.details\n\n    \n\n    const handleSubmit = async() => {    \n        const cleanFormData = JSON.stringify(postDetails.details);\n        console.log(cleanFormData)\n        const req  = await AxiosRequest.put(`/shareme/posts/${id}/update`,cleanFormData)\n        .then((res) => {navigation(`/shareme/posts/${id}`);console.log(\"updated\")})\n        .catch((err) => {console.log(err);})\n    }\n\n    const handleUpdate = (e) => {\n      postDetails.details[e.target.name] = e.target.value\n      setPostDetails({loading:false,details:postDetails.details})\n    }\n\n    return(\n        <div className='container-fluid col-md-5 mt-4' style={{backgroundColor:\"white\",padding:\"3%\",borderRadius:\"25px\",marginTop:\"25px\"}}>\n            <div className='mb-4'>\n                <h1 className='display-4'>Update Post</h1>\n            </div>\n\n            <div>\n\n            <div class=\"mb-3 mt-3\">\n            <label class=\"form-label lead\">Title</label>\n            <input type=\"text\" defaultValue={title} name=\"title\" class=\"form-control\" placeholder=\"Enter the title\" onChange={handleUpdate}/>\n            </div>\n\n            <div class=\"mb-3\">\n            <label class=\"form-label lead\">Content</label>\n            <textarea class=\"form-control\"  defaultValue={content} name=\"content\" rows=\"3\" placeholder=\"Enter the content\" onChange={handleUpdate}/>\n            </div>\n\n            <div class=\"mb-3\">\n            <label class=\"form-label lead\">Data</label>\n            <textarea class=\"form-control\" defaultValue={data} name=\"data\" rows=\"3\" placeholder=\"Enter the data\" onChange={handleUpdate}/>\n            </div>\n            <div className='d-grid gap-2'>\n            <button className='btn btn-dark' onClick={handleSubmit}>Submit</button>\n            </div>\n\n            </div>\n        </div>\n    );\n};\n\nexport default UpdatePost;"]},"metadata":{},"sourceType":"module"}